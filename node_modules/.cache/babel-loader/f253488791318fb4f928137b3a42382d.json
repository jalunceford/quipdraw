{"ast":null,"code":"import _classCallCheck from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Redirect}from'react-router-dom';import socket from\"../socketConfig\";import firebase from\"../firebase\";import'./styles.css';var Create=/*#__PURE__*/function(_React$Component){_inherits(Create,_React$Component);var _super=_createSuper(Create);function Create(){var _this;_classCallCheck(this,Create);_this=_super.call(this);_this.makeId=function(){var result='';var characters='ABCDEFGHIJKLMNOPQRSTUVWXYZ';var charactersLength=characters.length;for(var i=0;i<4;i++){result+=characters.charAt(Math.floor(Math.random()*charactersLength));}_this.setState({code:result});};_this.createGroup=function(){socket.emit(\"getWords\",\"getWords\");if(_this.state.hasGottenWords){var db=firebase.firestore();db.collection(\"rooms\").add({code:_this.state.code,words:_this.state.words}).then(function(){db.collection(\"rooms\").where(\"code\",\"==\",_this.state.code).get().then(function(querySnapshot){querySnapshot.docs.forEach(function(snapshot){snapshot.ref.collection(\"players\").add({name:_this.state.name,score:0}).then(function(){socket.emit(\"createGroup\",_this.state.code);});});});});}};_this.updateName=function(event){_this.setState({name:event.target.value});};_this.state={code:'',name:'',hasCreated:false,words:[],hasGottenWords:false};return _this;}_createClass(Create,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.makeId();socket.on('hasCreatedGroup',function(){_this2.setState({hasCreated:true});});socket.on('hasGottenWords',function(words){_this2.setState({words:words});_this2.setState({hasGottenWords:true});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"vert\"},/*#__PURE__*/React.createElement(\"div\",{className:\"center\"},/*#__PURE__*/React.createElement(\"label\",{for:\"code\",id:\"l1\"},\"Room Code:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"code\",value:this.state.code,readonly:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"center\"},/*#__PURE__*/React.createElement(\"label\",{for:\"name\",id:\"l2\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"name\",onChange:this.updateName})),/*#__PURE__*/React.createElement(\"div\",{className:\"center\"},/*#__PURE__*/React.createElement(\"button\",{id:\"Done1\",onClick:this.createGroup},\"Done\")),this.state.hasCreated&&this.state.hasGottenWords?/*#__PURE__*/React.createElement(Redirect,{to:{pathname:'/room',state:{code:this.state.code,name:this.state.name,hasCreated:this.state.hasCreated}}}):null));}}]);return Create;}(React.Component);export default Create;","map":{"version":3,"sources":["/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/src/pages/create.jsx"],"names":["React","Redirect","socket","firebase","Create","makeId","result","characters","charactersLength","length","i","charAt","Math","floor","random","setState","code","createGroup","emit","state","hasGottenWords","db","firestore","collection","add","words","then","where","get","querySnapshot","docs","forEach","snapshot","ref","name","score","updateName","event","target","value","hasCreated","on","pathname","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport socket from \"../socketConfig\";\nimport firebase from \"../firebase\";\nimport './styles.css';\n\nclass Create extends React.Component {\n\n    constructor() {\n      super();\n      this.state = {code: '', name: '', hasCreated: false, words: [], hasGottenWords: false};\n    }\n\n    componentDidMount() {\n      this.makeId();\n      socket.on('hasCreatedGroup', () => {\n        this.setState({hasCreated: true});\n      });\n      socket.on('hasGottenWords', (words) => {\n        this.setState({words: words});\n        this.setState({hasGottenWords: true});\n      });\n    }\n  \n    makeId = () => {\n      var result           = '';\n      var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n      var charactersLength = characters.length;\n      for ( var i = 0; i < 4; i++ ) {\n         result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n      this.setState({code: result});\n   }\n  \n    createGroup = () => {\n      socket.emit(\"getWords\", \"getWords\");\n      if (this.state.hasGottenWords) {\n        const db = firebase.firestore();\n        db.collection(\"rooms\").add({\n          code: this.state.code,\n          words: this.state.words\n        }).then(() => {\n          db.collection(\"rooms\").where(\"code\", \"==\", this.state.code).get().then((querySnapshot) => {\n            querySnapshot.docs.forEach((snapshot) => {\n              snapshot.ref.collection(\"players\").add({name: this.state.name, score: 0}).then(() => {\n                socket.emit(\"createGroup\", this.state.code);\n              });\n            });\n          });\n        });\n      }\n    }\n  \n    updateName = (event) => {\n      this.setState({name: event.target.value});\n    }\n  \n    render() {\n      return (\n        <div>\n          <div className=\"vert\">\n            <div className=\"center\">\n              <label for=\"code\" id=\"l1\">Room Code:</label>\n              <input type=\"text\" id=\"code\" value={this.state.code} readonly/>\n            </div>\n            <div className=\"center\">\n              <label for=\"name\" id=\"l2\">Name</label>\n              <input type=\"text\" id=\"name\" onChange={this.updateName}/>\n            </div>\n            <div className=\"center\">\n              <button id=\"Done1\" onClick={this.createGroup}>Done</button>\n            </div>\n            { this.state.hasCreated && this.state.hasGottenWords ? <Redirect to={{pathname: '/room', state: {code: this.state.code, name: this.state.name, hasCreated: this.state.hasCreated}}}/> : null }\n          </div>\n        </div>\n      )\n    }\n  }\n\n  export default Create;"]},"metadata":{},"sourceType":"module"}