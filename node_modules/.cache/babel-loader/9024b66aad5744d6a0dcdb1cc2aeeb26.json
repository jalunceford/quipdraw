{"ast":null,"code":"import _classCallCheck from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Redirect}from'react-router-dom';import socket from\"../socketConfig\";import firebase from'../firebase.js';var Join=/*#__PURE__*/function(_React$Component){_inherits(Join,_React$Component);var _super=_createSuper(Join);function Join(){var _this;_classCallCheck(this,Join);_this=_super.call(this);_this.updateName=function(event){_this.setState({name:event.target.value});};_this.updateCode=function(event){_this.setState({code:event.target.value});};_this.state={code:'',name:'',hasJoined:false};return _this;}_createClass(Join,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;socket.on(\"joinCompleted\",function(){_this2.setState({hasJoined:true});});}},{key:\"joinGroup\",value:function joinGroup(){var _this3=this;var db=firebase.firestore();console.log(this.state.name);console.log(this.state.code);var docRef=db.collection(\"rooms\").where(\"code\",\"==\",this.state.code);docRef.get().then(function(querySnapshot){if(!querySnapshot.empty){docRef.get().then(function(querySnapshot){querySnapshot.docs.forEach(function(snapshot){snapshot.ref.collection(\"players\").add({name:_this3.state.name,votes:0}).then(function(){socket.emit(\"joinGroup\",_this3.state.code);});});});}else{alert(\"no group with that code exists!\");}});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{for:\"code\",id:\"l1\"},\"Room Code:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"code\",onChange:this.updateCode}),/*#__PURE__*/React.createElement(\"label\",{for:\"name\",id:\"l2\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"name\",onChange:this.updateName}),/*#__PURE__*/React.createElement(\"button\",{id:\"Done2\",onClick:this.joinGroup},\"Done\"),this.state.hasJoined?/*#__PURE__*/React.createElement(Redirect,{to:{pathname:'/room',state:{code:this.state.code,name:this.state.name,hasCreated:false}}}):null);}}]);return Join;}(React.Component);export default Join;","map":{"version":3,"sources":["/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/src/pages/join.jsx"],"names":["React","Redirect","socket","firebase","Join","updateName","event","setState","name","target","value","updateCode","code","state","hasJoined","on","db","firestore","console","log","docRef","collection","where","get","then","querySnapshot","empty","docs","forEach","snapshot","ref","add","votes","emit","alert","joinGroup","pathname","hasCreated","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport socket from \"../socketConfig\";\nimport firebase from '../firebase.js';\n\nclass Join extends React.Component {\n\n    constructor() {\n      super();\n      this.state = {code: '', name: '', hasJoined: false};\n    }\n\n    componentDidMount() {\n      socket.on(\"joinCompleted\", () => {\n        this.setState({hasJoined: true});\n      });\n    }\n    \n    joinGroup() {\n      const db = firebase.firestore();\n      console.log(this.state.name);\n      console.log(this.state.code);\n      let docRef = db.collection(\"rooms\").where(\"code\", \"==\", this.state.code);\n      docRef.get().then((querySnapshot) => {\n        if (!querySnapshot.empty) {\n          docRef.get().then((querySnapshot) => {\n            querySnapshot.docs.forEach((snapshot) => {\n              snapshot.ref.collection(\"players\").add({name: this.state.name, votes: 0}).then(() => {\n                socket.emit(\"joinGroup\", this.state.code);\n              });\n            });\n          });\n        }\n        else {\n          alert(\"no group with that code exists!\");\n        }\n      });\n    }\n  \n    updateName = (event) => {\n      this.setState({name: event.target.value});\n    }\n\n    updateCode = (event) => {\n      this.setState({code: event.target.value});\n    }\n  \n    render() {\n      return (\n        <div>\n          <label for=\"code\" id=\"l1\">Room Code:</label>\n          <input type=\"text\" id=\"code\" onChange={this.updateCode}/>\n          <label for=\"name\" id=\"l2\">Name</label>\n          <input type=\"text\" id=\"name\" onChange={this.updateName}/>\n          <button id=\"Done2\" onClick={this.joinGroup}>Done</button>\n          { this.state.hasJoined ? <Redirect to={{pathname: '/room', state: { code: this.state.code, name: this.state.name, hasCreated: false}}}/> : null }\n        </div>\n      )\n    }\n  }\n\n  export default Join;"]},"metadata":{},"sourceType":"module"}