{"ast":null,"code":"import _classCallCheck from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Redirect}from'react-router-dom';import socket from\"../socketConfig\";import firebase from'../firebase.js';var Join=/*#__PURE__*/function(_React$Component){_inherits(Join,_React$Component);var _super=_createSuper(Join);function Join(){var _this;_classCallCheck(this,Join);_this=_super.call(this);_this.joinGroup=function(){var db=firebase.firestore();var docRef=db.collection(\"rooms\").where(\"code\",\"==\",_this.state.code);docRef.get().then(function(querySnapshot){if(!querySnapshot.empty){docRef.get().then(function(querySnapshot){querySnapshot.docs.forEach(function(snapshot){snapshot.ref.collection(\"players\").add({name:_this.state.name,votes:0}).then(function(){socket.emit(\"joinGroup\",_this.state.code);});});});}else{alert(\"no group with that code exists!\");}});};_this.updateName=function(event){_this.setState({name:event.target.value});};_this.updateCode=function(event){_this.setState({code:event.target.value});};_this.state={code:'',name:'',hasJoined:false};return _this;}_createClass(Join,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;socket.on(\"joinCompleted\",function(){_this2.setState({hasJoined:true});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{for:\"code\",id:\"l1\"},\"Room Code:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"code\",onChange:this.updateCode}),/*#__PURE__*/React.createElement(\"label\",{for:\"name\",id:\"l2\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"name\",onChange:this.updateName}),/*#__PURE__*/React.createElement(\"button\",{id:\"Done2\",onClick:this.joinGroup},\"Done\"),this.state.hasJoined?/*#__PURE__*/React.createElement(Redirect,{to:{pathname:'/room',state:{code:this.state.code,name:this.state.name,hasCreated:false}}}):null);}}]);return Join;}(React.Component);export default Join;","map":{"version":3,"sources":["/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/src/pages/join.jsx"],"names":["React","Redirect","socket","firebase","Join","joinGroup","db","firestore","docRef","collection","where","state","code","get","then","querySnapshot","empty","docs","forEach","snapshot","ref","add","name","votes","emit","alert","updateName","event","setState","target","value","updateCode","hasJoined","on","pathname","hasCreated","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport socket from \"../socketConfig\";\nimport firebase from '../firebase.js';\n\nclass Join extends React.Component {\n\n    constructor() {\n      super();\n      this.state = {code: '', name: '', hasJoined: false};\n    }\n\n    componentDidMount() {\n      socket.on(\"joinCompleted\", () => {\n        this.setState({hasJoined: true});\n      });\n    }\n    \n    joinGroup = () => {\n      const db = firebase.firestore();\n      let docRef = db.collection(\"rooms\").where(\"code\", \"==\", this.state.code);\n      docRef.get().then((querySnapshot) => {\n        if (!querySnapshot.empty) {\n          docRef.get().then((querySnapshot) => {\n            querySnapshot.docs.forEach((snapshot) => {\n              snapshot.ref.collection(\"players\").add({name: this.state.name, votes: 0}).then(() => {\n                socket.emit(\"joinGroup\", this.state.code);\n              });\n            });\n          });\n        }\n        else {\n          alert(\"no group with that code exists!\");\n        }\n      });\n    }\n  \n    updateName = (event) => {\n      this.setState({name: event.target.value});\n    }\n\n    updateCode = (event) => {\n      this.setState({code: event.target.value});\n    }\n  \n    render() {\n      return (\n        <div>\n          <label for=\"code\" id=\"l1\">Room Code:</label>\n          <input type=\"text\" id=\"code\" onChange={this.updateCode}/>\n          <label for=\"name\" id=\"l2\">Name</label>\n          <input type=\"text\" id=\"name\" onChange={this.updateName}/>\n          <button id=\"Done2\" onClick={this.joinGroup}>Done</button>\n          { this.state.hasJoined ? <Redirect to={{pathname: '/room', state: { code: this.state.code, name: this.state.name, hasCreated: false}}}/> : null }\n        </div>\n      )\n    }\n  }\n\n  export default Join;"]},"metadata":{},"sourceType":"module"}