{"ast":null,"code":"import _classCallCheck from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Redirect}from'react-router-dom';import socket from\"../socketConfig\";import firebase from'../firebase.js';var Join=/*#__PURE__*/function(_React$Component){_inherits(Join,_React$Component);var _super=_createSuper(Join);function Join(){var _this;_classCallCheck(this,Join);_this=_super.call(this);_this.joinGroup=function(){var db=firebase.firestore();console.log(_this.state.name);console.log(_this.state.code);var docRef=db.collection(\"rooms\").where(\"code\",\"==\",_this.state.code);docRef.get().then(function(querySnapshot){if(!querySnapshot.empty){docRef.get().then(function(querySnapshot){querySnapshot.docs.forEach(function(snapshot){snapshot.ref.collection(\"players\").add({name:_this.state.name,votes:0}).then(function(){socket.emit(\"joinGroup\",_this.state.code);});});});}else{alert(\"no group with that code exists!\");}});};_this.updateName=function(event){_this.setState({name:event.target.value});};_this.updateCode=function(event){_this.setState({code:event.target.value});};_this.state={code:'',name:'',hasJoined:false};_this.joinGroup=_this.joinGroup.bind(_assertThisInitialized(_this));_this.updateCode=_this.updateCode.bind(_assertThisInitialized(_this));_this.updateName=_this.updateName.bind(_assertThisInitialized(_this));return _this;}_createClass(Join,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;socket.on(\"joinCompleted\",function(){_this2.setState({hasJoined:true});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{for:\"code\",id:\"l1\"},\"Room Code:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"code\",onChange:this.updateCode}),/*#__PURE__*/React.createElement(\"label\",{for:\"name\",id:\"l2\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"name\",onChange:this.updateName}),/*#__PURE__*/React.createElement(\"button\",{id:\"Done2\",onClick:this.joinGroup},\"Done\"),this.state.hasJoined?/*#__PURE__*/React.createElement(Redirect,{to:{pathname:'/room',state:{code:this.state.code,name:this.state.name,hasCreated:false}}}):null);}}]);return Join;}(React.Component);export default Join;","map":{"version":3,"sources":["/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/src/pages/join.jsx"],"names":["React","Redirect","socket","firebase","Join","joinGroup","db","firestore","console","log","state","name","code","docRef","collection","where","get","then","querySnapshot","empty","docs","forEach","snapshot","ref","add","votes","emit","alert","updateName","event","setState","target","value","updateCode","hasJoined","bind","on","pathname","hasCreated","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport socket from \"../socketConfig\";\nimport firebase from '../firebase.js';\n\nclass Join extends React.Component {\n\n    constructor() {\n      super();\n      this.state = {code: '', name: '', hasJoined: false};\n      this.joinGroup = this.joinGroup.bind(this);\n      this.updateCode = this.updateCode.bind(this);\n      this.updateName = this.updateName.bind(this);\n    }\n\n    componentDidMount() {\n      socket.on(\"joinCompleted\", () => {\n        this.setState({hasJoined: true});\n      });\n    }\n    \n    joinGroup = () => {\n      const db = firebase.firestore();\n      console.log(this.state.name);\n      console.log(this.state.code);\n      let docRef = db.collection(\"rooms\").where(\"code\", \"==\", this.state.code);\n      docRef.get().then((querySnapshot) => {\n        if (!querySnapshot.empty) {\n          docRef.get().then((querySnapshot) => {\n            querySnapshot.docs.forEach((snapshot) => {\n              snapshot.ref.collection(\"players\").add({name: this.state.name, votes: 0}).then(() => {\n                socket.emit(\"joinGroup\", this.state.code);\n              });\n            });\n          });\n        }\n        else {\n          alert(\"no group with that code exists!\");\n        }\n      });\n    }\n  \n    updateName = (event) => {\n      this.setState({name: event.target.value});\n    }\n\n    updateCode = (event) => {\n      this.setState({code: event.target.value});\n    }\n  \n    render() {\n      return (\n        <div>\n          <label for=\"code\" id=\"l1\">Room Code:</label>\n          <input type=\"text\" id=\"code\" onChange={this.updateCode}/>\n          <label for=\"name\" id=\"l2\">Name</label>\n          <input type=\"text\" id=\"name\" onChange={this.updateName}/>\n          <button id=\"Done2\" onClick={this.joinGroup}>Done</button>\n          { this.state.hasJoined ? <Redirect to={{pathname: '/room', state: { code: this.state.code, name: this.state.name, hasCreated: false}}}/> : null }\n        </div>\n      )\n    }\n  }\n\n  export default Join;"]},"metadata":{},"sourceType":"module"}