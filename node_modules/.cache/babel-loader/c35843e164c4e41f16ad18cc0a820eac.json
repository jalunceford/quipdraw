{"ast":null,"code":"import _classCallCheck from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Redirect}from'react-router-dom';import socket from\"./socketConfig\";import firebase from'./firebase.js';var Create=/*#__PURE__*/function(_React$Component){_inherits(Create,_React$Component);var _super=_createSuper(Create);function Create(){var _this;_classCallCheck(this,Create);_this=_super.call(this);_this.updateName=function(event){_this.setState({name:event.target.value});};_this.state={code:'',name:'',hasCreated:false};return _this;}_createClass(Create,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;socket.on('groupCompleted',function(){_this2.setState({hasCreated:true});});}},{key:\"makeId\",value:function makeId(){var result='';var characters='ABCDEFGHIJKLMNOPQRSTUVWXYZ';var charactersLength=characters.length;for(var i=0;i<4;i++){result+=characters.charAt(Math.floor(Math.random()*charactersLength));}this.setState({code:result});return result;}},{key:\"createGroup\",value:function createGroup(){var _this3=this;var db=firebase.firestore();db.collection(\"rooms\").add({code:this.state.code,words:[]}).then(function(){var docRef=db.collection(\"rooms\").where(\"code\",\"==\",_this3.state.code);docRef.collection(\"players\").add({name:_this3.state.name,votes:0}).then(function(){socket.emit(\"createGroup\",_this3.state.code);});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{for:\"code\",id:\"l1\"},\"Room Code:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"code\",value:this.makeId,readonly:true}),/*#__PURE__*/React.createElement(\"label\",{for:\"name\",id:\"l2\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"name\",onChange:this.updateName}),/*#__PURE__*/React.createElement(\"button\",{id:\"Done1\",onClick:this.createGroup},\"Done1\"),this.state.hasCreated?/*#__PURE__*/React.createElement(Redirect,{to:{pathname:'/room',state:{code:this.state.code,name:this.state.name,hasCreated:this.state.hasCreated}}}):null);}}]);return Create;}(React.Component);export default Create;","map":{"version":3,"sources":["/Users/jacklunceford/Desktop/quiplash_drawing_game/react-app/src/pages/create.jsx"],"names":["React","Redirect","socket","firebase","Create","updateName","event","setState","name","target","value","state","code","hasCreated","on","result","characters","charactersLength","length","i","charAt","Math","floor","random","db","firestore","collection","add","words","then","docRef","where","votes","emit","makeId","createGroup","pathname","Component"],"mappings":"4rBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,eAArB,C,GAEMC,CAAAA,M,4GAEF,iBAAc,wCACZ,wBADY,MAmCdC,UAnCc,CAmCD,SAACC,KAAD,CAAW,CACtB,MAAKC,QAAL,CAAc,CAACC,IAAI,CAAEF,KAAK,CAACG,MAAN,CAAaC,KAApB,CAAd,EACD,CArCa,CAEZ,MAAKC,KAAL,CAAa,CAACC,IAAI,CAAE,EAAP,CAAWJ,IAAI,CAAE,EAAjB,CAAqBK,UAAU,CAAE,KAAjC,CAAb,CAFY,aAGb,C,gFAEmB,iBAClBX,MAAM,CAACY,EAAP,CAAU,gBAAV,CAA4B,UAAM,CAChC,MAAI,CAACP,QAAL,CAAc,CAACM,UAAU,CAAE,IAAb,CAAd,EACD,CAFD,EAGD,C,uCAEQ,CACP,GAAIE,CAAAA,MAAM,CAAa,EAAvB,CACA,GAAIC,CAAAA,UAAU,CAAS,4BAAvB,CACA,GAAIC,CAAAA,gBAAgB,CAAGD,UAAU,CAACE,MAAlC,CACA,IAAM,GAAIC,CAAAA,CAAC,CAAG,CAAd,CAAiBA,CAAC,CAAG,CAArB,CAAwBA,CAAC,EAAzB,CAA8B,CAC3BJ,MAAM,EAAIC,UAAU,CAACI,MAAX,CAAkBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgBN,gBAA3B,CAAlB,CAAV,CACF,CACD,KAAKV,QAAL,CAAc,CAACK,IAAI,CAAEG,MAAP,CAAd,EACA,MAAOA,CAAAA,MAAP,CACF,C,iDAEc,iBACZ,GAAMS,CAAAA,EAAE,CAAGrB,QAAQ,CAACsB,SAAT,EAAX,CACAD,EAAE,CAACE,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2B,CACzBf,IAAI,CAAE,KAAKD,KAAL,CAAWC,IADQ,CAEzBgB,KAAK,CAAE,EAFkB,CAA3B,EAGGC,IAHH,CAGQ,UAAM,CACZ,GAAIC,CAAAA,MAAM,CAAGN,EAAE,CAACE,UAAH,CAAc,OAAd,EAAuBK,KAAvB,CAA6B,MAA7B,CAAqC,IAArC,CAA2C,MAAI,CAACpB,KAAL,CAAWC,IAAtD,CAAb,CACAkB,MAAM,CAACJ,UAAP,CAAkB,SAAlB,EAA6BC,GAA7B,CAAiC,CAACnB,IAAI,CAAE,MAAI,CAACG,KAAL,CAAWH,IAAlB,CAAwBwB,KAAK,CAAE,CAA/B,CAAjC,EAAoEH,IAApE,CAAyE,UAAM,CAC7E3B,MAAM,CAAC+B,IAAP,CAAY,aAAZ,CAA2B,MAAI,CAACtB,KAAL,CAAWC,IAAtC,EACD,CAFD,EAGH,CARC,EASH,C,uCAMU,CACP,mBACE,4CACE,6BAAO,GAAG,CAAC,MAAX,CAAkB,EAAE,CAAC,IAArB,eADF,cAEE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,MAAtB,CAA6B,KAAK,CAAE,KAAKsB,MAAzC,CAAiD,QAAQ,KAAzD,EAFF,cAGE,6BAAO,GAAG,CAAC,MAAX,CAAkB,EAAE,CAAC,IAArB,SAHF,cAIE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,MAAtB,CAA6B,QAAQ,CAAE,KAAK7B,UAA5C,EAJF,cAKE,8BAAQ,EAAE,CAAC,OAAX,CAAmB,OAAO,CAAE,KAAK8B,WAAjC,UALF,CAMI,KAAKxB,KAAL,CAAWE,UAAX,cAAwB,oBAAC,QAAD,EAAU,EAAE,CAAE,CAACuB,QAAQ,CAAE,OAAX,CAAoBzB,KAAK,CAAE,CAACC,IAAI,CAAE,KAAKD,KAAL,CAAWC,IAAlB,CAAwBJ,IAAI,CAAE,KAAKG,KAAL,CAAWH,IAAzC,CAA+CK,UAAU,CAAE,KAAKF,KAAL,CAAWE,UAAtE,CAA3B,CAAd,EAAxB,CAAyJ,IAN7J,CADF,CAUD,C,oBApDgBb,KAAK,CAACqC,S,EAuDzB,cAAejC,CAAAA,MAAf","sourcesContent":["import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport socket from \"./socketConfig\";\nimport firebase from './firebase.js'\n\nclass Create extends React.Component {\n\n    constructor() {\n      super();\n      this.state = {code: '', name: '', hasCreated: false};\n    }\n\n    componentDidMount() {\n      socket.on('groupCompleted', () => {\n        this.setState({hasCreated: true});\n      })\n    }\n  \n    makeId() {\n      var result           = '';\n      var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n      var charactersLength = characters.length;\n      for ( var i = 0; i < 4; i++ ) {\n         result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n      this.setState({code: result});\n      return result;\n   }\n  \n    createGroup() {\n      const db = firebase.firestore();\n      db.collection(\"rooms\").add({\n        code: this.state.code,\n        words: []\n      }).then(() => {\n        let docRef = db.collection(\"rooms\").where(\"code\", \"==\", this.state.code);\n        docRef.collection(\"players\").add({name: this.state.name, votes: 0}).then(() => {\n          socket.emit(\"createGroup\", this.state.code);\n        })\n    });\n  }\n  \n    updateName = (event) => {\n      this.setState({name: event.target.value});\n    }\n  \n    render() {\n      return (\n        <div>\n          <label for=\"code\" id=\"l1\">Room Code:</label>\n          <input type=\"text\" id=\"code\" value={this.makeId} readonly/>\n          <label for=\"name\" id=\"l2\">Name</label>\n          <input type=\"text\" id=\"name\" onChange={this.updateName}/>\n          <button id=\"Done1\" onClick={this.createGroup}>Done1</button>\n          { this.state.hasCreated ? <Redirect to={{pathname: '/room', state: {code: this.state.code, name: this.state.name, hasCreated: this.state.hasCreated}}}/> : null }\n        </div>\n      )\n    }\n  }\n\n  export default Create;"]},"metadata":{},"sourceType":"module"}